{{ define "main" }}
<div class="uk-section">
    <div class="uk-container uk-container-large" uk-scrollspy="cls: uk-animation-slide-bottom-small; target: .uk-card;">
        <div uk-filter="target: .js-filter">

            <div class="uk-section">
                {{ partial "templates/top-search" . }}
            </div>
        
            <ul class="js-filter uk-child-width-1-2@s uk-child-width-1-3@m uk-text-center" uk-grid>

                {{ $listCount := len (where .Site.RegularPages "Section" "==" "listings")  }}
                {{ if gt $listCount 0 }}
                        {{ range .RegularPages }}
                        <li data-city="{{ .Params.cities }}"
                            data-states="{{ .Params.states }}"
                            data-prop="{{ .Params.properties }}"
                            data-price="{{ .Params.price }}"
                            data-featured="{{ .Params.featured }}">
                            <a href="{{ .Permalink }}">
                                    {{ partial "templates/property-card" . }}
                                </a>         
                            </li>
                        {{ end }}
                {{ else }}
                <div class="inner-container">
                    <h2 class="title is-4">No listing has been added</h2>
                </div>
                {{ end }}
            </ul>
        
        </div>
    </div>
</div>

{{ end }}